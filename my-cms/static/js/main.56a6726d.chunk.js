(this["webpackJsonp0994-cms"]=this["webpackJsonp0994-cms"]||[]).push([[0],{30:function(e,a,t){e.exports=t(54)},54:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(28),s=t.n(r),c=t(3),m="http://test.hostingaba.beget.tech/",i=function(){return l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"nav flex-column nav-pills","aria-orientation":"vertical"},l.a.createElement(c.b,{className:"nav-link",exact:!0,to:"/cms/"},l.a.createElement("i",{className:"fas fa-home"})," CMS"),l.a.createElement(c.b,{className:"nav-link",to:"/cms/pages/"},l.a.createElement("i",{className:"fas fa-copy"})," \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u0430\u0439\u0442\u0430"),l.a.createElement(c.b,{className:"nav-link",to:"/cms/branches/"},l.a.createElement("i",{className:"fas fa-code-branch"})," \u0420\u0430\u0437\u0434\u0435\u043b\u044b \u0441\u0430\u0439\u0442\u0430")))},o=t(1),d=t(8),h=t(9),u=t(11),b=t(10),f=function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e.index),l.a.createElement("td",null,e.title),l.a.createElement("td",null,e.name),l.a.createElement("td",null,l.a.createElement(c.b,{to:"editPage/"+e.pageId},l.a.createElement("i",{className:"far fa-edit"})," [\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c]")))},v=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).state={pages:[]},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(m+"getPagesJSON").then((function(e){return e.json()})).then((function(a){e.setState({pages:a.map((function(e,a){return l.a.createElement(f,{key:a,pageId:e.id,index:a+1,name:e.name,title:e.title})}))})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-list-ol"})),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-book-reader"})," \u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"far fa-file-alt"})," \u0410\u0434\u0440\u0435\u0441"),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-tools"})," \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"))),l.a.createElement("tbody",null,this.state.pages)),l.a.createElement(c.b,{className:"btn btn-primary",to:"addPage"},l.a.createElement("i",{className:"fas fa-plus-square"}),"  \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"))}}]),t}(l.a.Component),p=t(17),E=t(7),g=t(14),N=t.n(g),j=(t(44),t(45),t(46),t(47),t(48),t(53),function(e){return l.a.createElement("option",{value:e.id},e.name_rus)}),O=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).htmlEditor=Object(n.createRef)(),e.cssEditor=Object(n.createRef)(),e.jsEditor=Object(n.createRef)(),e.handleSave=e.handleSave.bind(Object(E.a)(e)),e.handleInputChange=e.handleInputChange.bind(Object(E.a)(e)),e.state={name:"",title:"",options:[],branch:1,referrer:null},e}return Object(h.a)(t,[{key:"handleSave",value:function(){var e=this,a=new FormData;a.append("name",this.state.name),a.append("title",this.state.title),a.append("html",this.htmlEditor.current.editor.getValue()),a.append("css",this.cssEditor.current.editor.getValue()),a.append("js",this.jsEditor.current.editor.getValue()),a.append("branch",this.state.branch),fetch(m+"addPage",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){e.setState({referrer:"/pages/"})}))}},{key:"componentDidMount",value:function(){var e=this;fetch(m+"getBranchesJSON").then((function(e){return e.json()})).then((function(a){e.setState({options:a.map((function(e,a){return l.a.createElement(j,{key:a,id:e.id,name_rus:e.name_rus})}))})}))}},{key:"handleInputChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(p.a)({},n,t))}},{key:"render",value:function(){var e=this.state.referrer;return e?l.a.createElement(o.a,{to:"/cms"+e}):l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},l.a.createElement("a",{className:"nav-link active",id:"nav-html-tab","data-toggle":"tab",href:"#nav-html",role:"tab","aria-controls":"nav-html","aria-selected":"true"},l.a.createElement("i",{className:"fab fa-html5"})," HTML"),l.a.createElement("a",{className:"nav-link",id:"nav-css-tab","data-toggle":"tab",href:"#nav-css",role:"tab","aria-controls":"nav-css","aria-selected":"false"},l.a.createElement("i",{className:"fab fa-css3-alt"})," CSS"),l.a.createElement("a",{className:"nav-link",id:"nav-js-tab","data-toggle":"tab",href:"#nav-js",role:"tab","aria-controls":"nav-js","aria-selected":"false"},l.a.createElement("i",{className:"fab fa-js-square"})," JS"),l.a.createElement("a",{className:"nav-link",id:"nav-extraHTML-tab","data-toggle":"tab",href:"#nav-extraHTML",role:"tab","aria-controls":"nav-extraHTML","aria-selected":"false"},l.a.createElement("i",{className:"fas fa-bars"})," \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),l.a.createElement("button",{onClick:this.handleSave,className:"btn btn-light ml-auto"},l.a.createElement("i",{className:"fas fa-save"})," [\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c]"))),l.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"nav-html",role:"tabpanel","aria-labelledby":"nav-html-tab"},l.a.createElement(N.a,{mode:"html",width:"100%",theme:"vibrant_ink",ref:this.htmlEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-css",role:"tabpanel","aria-labelledby":"nav-css-tab"},l.a.createElement(N.a,{mode:"css",width:"100%",theme:"vibrant_ink",ref:this.cssEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-js",role:"tabpanel","aria-labelledby":"nav-js-tab"},l.a.createElement(N.a,{mode:"javascript",width:"100%",theme:"vibrant_ink",ref:this.jsEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-extraHTML",role:"tabpanel","aria-labelledby":"nav-extraHTML-tab"},l.a.createElement("div",{className:"col-10 mx-auto my-3"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{name:"name",onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"URI \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{name:"title",onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("select",{name:"branch",onChange:this.handleInputChange,className:"form-control"},this.state.options))))))}}]),t}(l.a.Component),y=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).htmlEditor=Object(n.createRef)(),e.cssEditor=Object(n.createRef)(),e.jsEditor=Object(n.createRef)(),e.handleSave=e.handleSave.bind(Object(E.a)(e)),e.handleInputChange=e.handleInputChange.bind(Object(E.a)(e)),e.state={name:"",title:"",pageId:""},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,a=window.location.pathname.split("/"),t=a[a.length-1];this.setState({pageId:t});var n=new FormData;n.append("pageId",t),fetch(m+"getPageByIdJSON",{method:"POST",body:n}).then((function(e){return e.json()})).then((function(a){e.htmlEditor.current.editor.setValue(a.html),e.cssEditor.current.editor.setValue(a.css),e.jsEditor.current.editor.setValue(a.js),e.setState({name:a.name,title:a.title})}))}},{key:"handleSave",value:function(){var e=new FormData;e.append("pageId",this.state.pageId),e.append("name",this.state.name),e.append("title",this.state.title),e.append("html",this.htmlEditor.current.editor.getValue()),e.append("css",this.cssEditor.current.editor.getValue()),e.append("js",this.jsEditor.current.editor.getValue()),fetch(m+"editPageById",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){return console.log("\u0412\u0421\u0401 \u041e\u041a")}))}},{key:"handleInputChange",value:function(e){var a=e.target,t=a.value,n=a.name;this.setState(Object(p.a)({},n,t))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},l.a.createElement("a",{className:"nav-link active",id:"nav-html-tab","data-toggle":"tab",href:"#nav-html",role:"tab","aria-controls":"nav-html","aria-selected":"true"},l.a.createElement("i",{className:"fab fa-html5"})," HTML"),l.a.createElement("a",{className:"nav-link",id:"nav-css-tab","data-toggle":"tab",href:"#nav-css",role:"tab","aria-controls":"nav-css","aria-selected":"false"},l.a.createElement("i",{className:"fab fa-css3-alt"})," CSS"),l.a.createElement("a",{className:"nav-link",id:"nav-js-tab","data-toggle":"tab",href:"#nav-js",role:"tab","aria-controls":"nav-js","aria-selected":"false"},l.a.createElement("i",{className:"fab fa-js-square"})," JS"),l.a.createElement("a",{className:"nav-link",id:"nav-extraHTML-tab","data-toggle":"tab",href:"#nav-extraHTML",role:"tab","aria-controls":"nav-extraHTML","aria-selected":"false"},l.a.createElement("i",{className:"fas fa-bars"})," \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"),l.a.createElement("button",{onClick:this.handleSave,className:"btn btn-light ml-auto"},l.a.createElement("i",{className:"fas fa-save"})," [\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c]"))),l.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"nav-html",role:"tabpanel","aria-labelledby":"nav-html-tab"},l.a.createElement(N.a,{mode:"html",width:"100%",theme:"vibrant_ink",ref:this.htmlEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-css",role:"tabpanel","aria-labelledby":"nav-css-tab"},l.a.createElement(N.a,{mode:"css",width:"100%",theme:"vibrant_ink",ref:this.cssEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-js",role:"tabpanel","aria-labelledby":"nav-js-tab"},l.a.createElement(N.a,{mode:"javascript",width:"100%",theme:"vibrant_ink",ref:this.jsEditor,setOptions:{fontSize:18,enableEmmet:!0}})),l.a.createElement("div",{className:"tab-pane fade",id:"nav-extraHTML",role:"tabpanel","aria-labelledby":"nav-extraHTML-tab"},l.a.createElement("div",{className:"col-10 mx-auto my-3"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{value:this.state.name,name:"name",onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"URI \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{name:"title",value:this.state.title,onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}))))))}}]),t}(l.a.Component),S=function(e){return l.a.createElement("tr",null,l.a.createElement("th",{scope:"row"},e.index),l.a.createElement("td",null,e.name_rus),l.a.createElement("td",null,e.name))},k=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).state={branches:[]},e}return Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(m+"getBranchesJSON").then((function(e){return e.json()})).then((function(a){e.setState({branches:a.map((function(e,a){return l.a.createElement(S,{key:a,index:a+1,name:e.name,name_rus:e.name_rus})}))})}))}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("table",{className:"table table-striped"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-list-ol"})),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-book-reader"}),"  \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),l.a.createElement("th",{scope:"col"},l.a.createElement("i",{className:"fas fa-folder-open"})," \u0410\u0434\u0440\u0435\u0441"))),l.a.createElement("tbody",null,this.state.branches)),l.a.createElement(c.b,{className:"btn btn-primary",to:"addBranch"},l.a.createElement("i",{className:"fas fa-plus-square"})," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b \u0441\u0430\u0439\u0442\u0430"))}}]),t}(l.a.Component),C=function(e){return l.a.createElement("option",{value:e.id},e.name_rus)},x=function(e){Object(u.a)(t,e);var a=Object(b.a)(t);function t(){var e;return Object(d.a)(this,t),(e=a.call(this)).handleInputChange=e.handleInputChange.bind(Object(E.a)(e)),e.handleSave=e.handleSave.bind(Object(E.a)(e)),e.state={referrer:null,name:"",name_rus:"",options:[],branch:1},e}return Object(h.a)(t,[{key:"handleSave",value:function(){var e=this,a=new FormData;a.append("name",this.state.name),a.append("name_rus",this.state.name_rus),fetch(m+"addBranch",{method:"POST",body:a}).then((function(e){return e.json()})).then((function(a){console.log("\u0412\u0435\u0442\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430");var t=new FormData;t.append("name",e.state.name),t.append("title",e.state.name_rus),t.append("html","<h1>".concat(e.state.name_rus,"</h1>")),t.append("css",""),t.append("js",""),t.append("branch",e.state.branch),fetch(m+"addPage",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(a){console.log("\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0440\u0430\u0437\u0434\u0435\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),e.setState({referrer:"branches/"})}))}))}},{key:"handleInputChange",value:function(e){var a=e.target,t=a.name,n=a.value;console.log(t,n),this.setState(Object(p.a)({},t,n))}},{key:"componentDidMount",value:function(){var e=this;fetch(m+"getBranchesJSON").then((function(e){return e.json()})).then((function(a){e.setState({options:a.map((function(e,a){return l.a.createElement(C,{key:a,id:e.id,name_rus:e.name_rus})}))})}))}},{key:"render",value:function(){var e=this.state.referrer;return e?l.a.createElement(o.a,{to:"/cms"+e}):l.a.createElement("div",null,l.a.createElement("h2",{className:"my-4 text-center"},l.a.createElement("i",{className:"fas fa-folder-plus"})," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b \u0441\u0430\u0439\u0442\u0430"),l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{name:"name",value:this.state.name,onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"Name"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("input",{name:"name_rus",value:this.state.name_rus,onChange:this.handleInputChange,type:"text",className:"form-control",placeholder:"Name_RUS"})),l.a.createElement("div",{className:"mb-3"},l.a.createElement("select",{name:"branch",onChange:this.handleInputChange,className:"form-control"},this.state.options)),l.a.createElement("div",{className:"mb-3"},l.a.createElement("button",{className:"btn btn-outline-success",onClick:this.handleSave},l.a.createElement("i",{className:"far fa-save"}),"  \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(l.a.Component);var I=function(){return l.a.createElement("div",{className:"container-fluid"},l.a.createElement(c.a,null,l.a.createElement("div",{className:"row"},l.a.createElement(i,null),l.a.createElement("div",{className:"col-9"},l.a.createElement(o.b,{exact:!0,path:"/cms/",render:function(){return"CMS"}}),l.a.createElement(o.b,{exact:!0,path:"/cms/pages/",render:function(){return l.a.createElement(v,null)}}),l.a.createElement(o.b,{path:"/cms/pages/addPage",render:function(){return l.a.createElement(O,null)}}),l.a.createElement(o.b,{path:"/cms/pages/editPage",render:function(){return l.a.createElement(y,null)}}),l.a.createElement(o.b,{exact:!0,path:"/cms/branches/",render:function(){return l.a.createElement(k,null)}}),l.a.createElement(o.b,{path:"/cms/branches/addBranch",render:function(){return l.a.createElement(x,null)}})))))};s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(I,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.56a6726d.chunk.js.map